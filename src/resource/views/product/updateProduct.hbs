<link rel="stylesheet" href="/css/addPr.css">
<div class="background-body">
    <h3 class="title-muc">Update product</h3>
</div>
<div class="main-addPr">
    <div class="f-addPr">
        <div class="intro">
            <div class="intro-m">
                <div class="line"></div>
                <div class="infor-add">1. basic infor</div>
                <div class="infor-add">2. category & supplier</div>
                <div class="infor-add">3. image</div>
            </div>
        </div>
        <form action="/managerProduct/actUpdate" class="form-add" enctype="multipart/form-data" method="post">
            <p class="main-title">1. basic infor</p>
            {{#if doc}}
            {{#each doc as |value|}}
            <div class="input">
                <p class="childen-title">product id</p>
                <input type="text" readonly value="{{value._id}}" name="id" id="">
            </div>
            <div class="input">
                <p class="childen-title">product name</p>
                <input type="text" value="{{value.name}}" name="name" id="name">
                <p class="message"></p>
            </div>
            <div class="price-quantity">
                <div class="input">
                    <p class="childen-title">new price</p>
                    <input type="text" name="new_price" value="{{value.new_price}}" id="new_price">
                    <p class="message"></p>

                </div>
                <div class="input">
                    <p class="childen-title">old price</p>
                    <input type="text" name="old_price" value="{{value.old_price}}" id="old_price">
                    <p class="message"></p>
                </div>
            </div>
            <div class="price-quantity">
                <div class="input">
                    <p class="childen-title">quantity</p>
                    <input type="number" min="0" name="quantity" value="{{value.quantity}}" id="quantity">
                    <p class="message"></p>
                </div>
                <div class="input">
                    <p class="childen-title">quantity sold</p>
                    <input type="number" min="0" name="quantity_sold" value="{{value.quantity_sold}}" id="sold_quantity">
                    <p class="message"></p>
                </div>
            </div>



            <div class="input">
                <p class="childen-title">content</p>
                <textarea name="content" id="" cols="30" rows="10">
                            {{value.content}}
                        </textarea>
            </div>
            <p class="main-title">2. category & supplier</p>
            <div class="price-quantity">
                <div class="input ct-qt">
                    <p class="childen-title">category</p>
                    <select name="id_category" id="ct">
                        {{#each categories as |ct|}}
                        {{{compare ct.name value.category.name ct._id}}}
                        {{/each}}
                    </select>
                </div>
                <div class="input">
                    <p class="childen-title">supplier</p>
                    <select name="id_supplier" id="">
                        {{#each suppliers as |sp| }}
                        {{{compare sp.name value.supplier.name sp._id}}}
                        {{/each}}
                    </select>
                </div>
            </div>
            <p class="main-title">3. image</p>
            <div class="input">
                <p class="childen-title">Add new image to change</p>
                <label for="addfile" class="lable-file">
                    <img class="backg-img" src="https://img.icons8.com/cute-clipart/64/000000/edit-image.png" />
                </label>
                <input type="file" name="file" id="addfile">
            </div>
            {{/each}}

            {{/if}}
            <button class="submit" type="submit">Update</button>
        </form>
    </div>
</div>
<script>
    validation({
        form:'.form-add',
        rule:[
            validation.isrequire('#new_price'),
            validation.isrequire('#old_price'),
            validation.isrequire('#name'),
            validation.isrequire('#quantity'),
            validation.isrequire('#sold_quantity'),
            validation.isnumber('#quantity'),
            validation.isnumber('#sold_quantity'),
            validation.isnumber('#new_price'),
            validation.isnumber('#old_price'),

        ]
    })
</script>